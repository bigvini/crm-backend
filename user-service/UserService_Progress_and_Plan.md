# User Service ‚Äî –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è —Ä–æ–∑—Ä–æ–±–∫–∏

## üìå –©–æ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ (—Å—Ç–∞–Ω–æ–º –Ω–∞ 2025-04-10):
1. **–°–µ—Ä–≤—ñ—Å `UserService`**:
   - –°—Ç–≤–æ—Ä–µ–Ω–æ `UserEntity` –∑ –ø–æ–ª—è–º–∏: `id`, `fullName`, `email`, `phone`, `password`, `role`, `active`.
   - –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ `UserRepository` (Spring Data JPA).
   - –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ `UserRequestDto` —Ç–∞ `UserResponseDto`.
   - –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ `UserMapper` –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º MapStruct (`componentModel = "spring"`).
   - –°–µ—Ä–≤—ñ—Å `UserServiceImpl` –∑ –º–µ—Ç–æ–¥–∞–º–∏:
     - `createUser`
     - `getAllUsers`
     - `getUserById`
     - `deleteUser`
   - –ö–æ–Ω—Ç—Ä–æ–ª–µ—Ä `UserController` –∑ –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∞–º–∏:
     - `POST /api/users` ‚Äî —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
     - `GET /api/users` ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –≤—Å—ñ—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
     - `GET /api/users/<built-in function id>` ‚Äî –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø–æ ID
     - `DELETE /api/users/<built-in function id>` ‚Äî –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –ø–æ ID

2. **Swagger/OpenAPI**:
   - –î–æ–¥–∞–Ω–æ –∞–Ω–æ—Ç–∞—Ü—ñ—ó `@Operation`, `@Tag` –¥–æ –º–µ—Ç–æ–¥—ñ–≤ –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞.
   - Swagger –¥–æ—Å—Ç—É–ø–Ω–∏–π –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ REST API.

3. **–ë–∞–∑–∞ –¥–∞–Ω–∏—Ö**:
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è PostgreSQL.
   - –¢–∞–±–ª–∏—Ü—è `users` —É—Å–ø—ñ—à–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —á–µ—Ä–µ–∑ Hibernate.
   - Spring JPA –∫–æ–Ω—Ñ—ñ–≥—É—Ä–æ–≤–∞–Ω–æ –¥–ª—è –≤–∑–∞—î–º–æ–¥—ñ—ó –∑ –ë–î.

4. **–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ –±–µ–∑–ø–µ–∫–æ—é**:
   - –î–æ–¥–∞–Ω–æ –±–∞–∑–æ–≤—É –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é Spring Security.
   - –ü—Ä–∞—Ü—é—î –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è –∑ `inMemoryUserDetailsManager` (—Ç–∏–º—á–∞—Å–æ–≤–æ).

---

## üîß –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑—Ä–æ–±–∏—Ç–∏ –¥–∞–ª—ñ:

### 1. üõ° –ë–µ–∑–ø–µ–∫–∞
- üîí –ó–∞–º—ñ—Å—Ç—å `inMemoryUserDetailsManager` —Ä–µ–∞–ª—ñ–∑—É–≤–∞—Ç–∏ `CustomUserDetailsService`:
  - –ó—á–∏—Ç—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —ñ–∑ –ë–î
  - –î–æ–¥–∞–≤–∞–Ω–Ω—è `UserDetails`/`UserPrincipal`
  - –ü–∞—Ä–æ–ª—ñ —Ö–µ—à—É–≤–∞—Ç–∏ —á–µ—Ä–µ–∑ BCrypt (`BCryptPasswordEncoder`)
- üîê –î–æ–¥–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω—É —Å–∏—Å—Ç–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó (JWT –∞–±–æ session-based)

### 2. üß™ –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- –î–æ–¥–∞—Ç–∏ –≥–ª–æ–±–∞–ª—å–Ω–∏–π `ExceptionHandler`
- –í–∞–ª—ñ–¥—É–≤–∞—Ç–∏ –ø–æ–ª—è –≤ DTO (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, email, phone)

### 3. üß© –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è DTO
- –ü—Ä–∏—Ö–æ–≤–∞—Ç–∏ `password` –∑ `UserResponseDto`
- –î–æ–¥–∞—Ç–∏ –ø–æ–ª–µ `createdAt` / `updatedAt` –≤ `UserEntity` (–∞—É–¥–∏—Ç)

### 4. üìä –†–æ–ª—ñ —Ç–∞ –¥–æ—Å—Ç—É–ø
- –°—Ç–≤–æ—Ä–∏—Ç–∏ –ª–æ–≥—ñ–∫—É, —è–∫–∞ –¥–æ–∑–≤–æ–ª—è—î —Ç—ñ–ª—å–∫–∏ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞–º –≤–∏–¥–∞–ª—è—Ç–∏ –∞–±–æ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤

### 5. üåê –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è
- –ü—ñ–¥–≥–æ—Ç—É–≤–∞—Ç–∏ UserService –¥–æ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ —ñ–Ω—à–∏–º–∏ –º—ñ–∫—Ä–æ—Å–µ—Ä–≤—ñ—Å–∞–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ FeignClient –∞–±–æ RestTemplate)

### 6. üßæ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è
- –î–æ–¥–∞—Ç–∏ README –¥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
- –î–æ–¥–∞—Ç–∏ –ø—Ä–∏–∫–ª–∞–¥–∏ CURL / Postman –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∑–∞–ø–∏—Ç—É
- –î–æ–¥–∞—Ç–∏ —Å–ø–µ—Ü–∏—Ñ—ñ–∫–∞—Ü—ñ—é API (YAML/JSON) –¥–ª—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ—Ä–∞

---

## üßë‚Äçüíª –Ü–Ω—à–µ
- –û–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- –î–æ–¥–∞—Ç–∏ unit-—Ç–µ—Å—Ç–∏ —Ç–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏ (`@WebMvcTest`, `@DataJpaTest`)

---

> ‚öôÔ∏è –£—Å—ñ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —á–∞—Å—Ç–∏–Ω–∏ –ø–µ—Ä–µ–≤—ñ—Ä–µ–Ω–æ —á–µ—Ä–µ–∑ Swagger.